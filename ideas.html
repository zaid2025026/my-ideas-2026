<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุณุชูุฏุน ุงูุฃููุงุฑ ุงูุฐูู - ุฒูุฏ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ุฃุจูููุง ููุท ุงูุฎุท ุงูุฃุณุงุณู ูุฃู Tailwind ูุง ูุชุญูู ุจุงูุฎุทูุท ุงูุฎุงุฑุฌูุฉ ุชููุงุฆูุงู */
        body { font-family: 'Cairo', sans-serif; }
    </style>
</head>

<body class="bg-slate-100 text-gray-800 p-4 md:p-10">

    <div class="max-w-3xl mx-auto bg-white shadow-2xl rounded-3xl overflow-hidden border border-gray-100">
        
        <header class="bg-blue-600 p-8 text-center text-white">
            <img src="my_photo.jpg" alt="ุฒูุฏ ุนุจูุฏ" 
                 class="w-32 h-32 rounded-2xl mx-auto border-4 border-white shadow-xl transform hover:scale-110 transition duration-300">
            <h1 class="text-3xl font-bold mt-4">ูุณุชูุฏุน ุฃููุงุฑู ูุนุงู 2026</h1>
            <p class="text-blue-100 mt-2">ุฃููุงู ุจู! ุฃูุง ุงููุจุฑูุฌ ุฒูุฏ.. ูู ุฑุญูุชู ุงูุจุฑูุฌูุฉ.</p>
        </header>

        <div class="p-6 md:p-10 space-y-8">
            
            <section class="text-center">
                <video id="myVideo" autoplay playsinline class="hidden w-full rounded-2xl border-4 border-blue-500 bg-black shadow-inner mb-4"></video>
                <button onclick="startVideo()" 
                        class="w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-3 rounded-xl shadow-lg transition duration-300 transform active:scale-95">
                    ๐ธ ุงุฎุชุจุงุฑ ูุชุญ ุงููุงููุฑุง ููุงุชุตุงู
                </button>
            </section>

            <hr class="border-gray-100">

            <section>
                <h2 class="text-xl font-bold text-gray-700 mb-4 flex items-center">
                    <span class="bg-blue-100 p-2 rounded-lg ml-2">๐ก</span> ุฅุถุงูุฉ ููุฑุฉ ุฌุฏูุฏุฉ:
                </h2>
                <form id="ideaForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 mb-1">ุงุณู ุงูููุฑุฉ:</label>
                        <input type="text" id="ideaInput" placeholder="ุงูุชุจ ููุฑุชู ููุง..." 
                               class="w-full p-3 rounded-xl border-2 border-gray-100 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-gray-600 mb-1">ุชุงุฑูุฎ ุงูุจุฏุก:</label>
                        <input type="date" id="dateinput" 
                               class="w-full p-3 rounded-xl border-2 border-gray-100 focus:border-blue-500 outline-none transition">
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-3">
                        <button type="button" onclick="addIdea()" 
                                class="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-xl shadow-md transition transform active:scale-95">
                            ๐พ ุญูุธ ุงูููุฑุฉ ูู ุงููุณุชูุฏุน
                        </button>
                        <button type="button" onclick="clearAllIdeas()" 
                                class="bg-red-50 hover:bg-red-500 text-red-500 hover:text-white font-bold py-3 px-6 rounded-xl transition duration-300">
                            ๐๏ธ ูุณุญ ุงููู
                        </button>
                    </div>
                </form>
            </section>

            <hr class="border-gray-100">

            <section>
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold text-gray-700">๐ ูุงุฆูุฉ ุงูุฃููุงุฑ:</h2>
                    <div class="bg-blue-600 text-white px-4 py-1 rounded-full text-sm shadow-md">
                        ูุฏูู <span id="ideasCount">0</span> ุฃููุงุฑ
                    </div>
                </div>

                <input type="text" id="searchInput" onkeyup="searchIdeas()" placeholder="๐ ุงุจุญุซ ุนู ููุฑุฉ ูุนููุฉ..." 
                       class="w-full p-3 mb-6 rounded-xl bg-gray-50 border-none focus:ring-2 focus:ring-blue-400 outline-none shadow-inner">

                <div class="overflow-hidden rounded-2xl border border-gray-100 shadow-xl">
                    <table class="w-full text-right border-collapse">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="p-4 text-gray-600 font-bold">ุงุณู ุงูููุฑุฉ</th>
                                <th class="p-4 text-gray-600 font-bold">ุงูุชุงุฑูุฎ</th>
                                <th class="p-4 text-gray-600 font-bold">ุงูุญุงูุฉ</th>
                            </tr>
                        </thead>
                        <tbody id="ideastable" class="divide-y divide-gray-50">
                            </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>
<script>
    // --- 1. ุงูุนุฏุงุฏ: ูุธููุชูุง ุญุณุงุจ ุนุฏุฏ ุงูุฃููุงุฑ ุงูููุฌูุฏุฉ ูู "ุงูุฎุฒุงูุฉ" ูุนุฑุถูุง ูููุณุชุฎุฏู ---
    function updateCounter() {
        // ููุชุญ ุงูุฎุฒุงูุฉ (localStorage) ููุฌูุจ ุงูุจูุงูุงุช
        const data = localStorage.getItem("myStorageIdeas");
        // ุฅุฐุง ูุงูุช ุงูุฎุฒุงูุฉ ูุงุฑุบุฉ ูุถุน 0ุ ูุฅุฐุง ูุงู ูููุง ุจูุงูุงุช ูุญูููุง ููุงุฆูุฉ ููุญุณุจ ุทูููุง
        const count = data ? JSON.parse(data).length : 0;
        // ูุถุน ุงูุฑูู ูู ุงูููุงู ุงููุฎุตุต ูู ุนูู ุงูุดุงุดุฉ
        document.getElementById("ideasCount").innerText = count;
    }

    // --- 2. ุจูุงุก ุงูุตู (ุงููุตูุน): ุชุฃุฎุฐ ุจูุงูุงุช ููุฑุฉ ูุงุญุฏุฉ ูุชุญูููุง ูู ุตู ูู ุงูุฌุฏูู (HTML) ---
    function createRow(text, date, status, index) {
        const tableBody = document.getElementById("ideastable");
        const row = tableBody.insertRow(); // ุฅูุดุงุก ุตู ุฌุฏูุฏ
        row.className = "hover:bg-blue-50 transition border-b border-gray-100";

        // ุงูุฎููุฉ 1 (ุงุณู ุงูููุฑุฉ): ุฌุนููุงูุง ูุงุจูุฉ ููุชุนุฏูู ุนูุฏ ุงูุถุบุท
        const c1 = row.insertCell(0);
        c1.innerText = text;
        c1.className = "p-4 font-bold text-gray-700 text-right cursor-pointer hover:text-blue-600 transition duration-200";
        c1.onclick = () => editIdeaName(index); // ุนูุฏ ุงูุถุบุทุ ูุงุฏู ุฏุงูุฉ ุงูุชุนุฏูู ูุฃุฎุจุฑูุง ุจุฑูู ุงูุตู (index)

        // ุงูุฎููุฉ 2 (ุงูุชุงุฑูุฎ): ุนุฑุถ ุงูุชุงุฑูุฎ ุงููุฏุฎู
        const c2 = row.insertCell(1);
        c2.innerText = date;
        c2.className = "p-4 text-gray-500 text-sm text-right";

        // ุงูุฎููุฉ 3 (ุงูุญุงูุฉ ูุงูุญุฐู): ุชุญุชูู ุนูู ุงูุญุงูุฉ (ููุฏ ุงูุชูููุฐ/ุชู) ูุฒุฑ ุงููุณุญ
        const c3 = row.insertCell(2);
        c3.className = "p-4 flex items-center justify-between gap-2";
        
        // ุฌุฒุก ุงูุญุงูุฉ (Span)
        const statusSpan = document.createElement("span");
        statusSpan.innerText = status;
        statusSpan.className = "cursor-pointer transition-all";
        // ุฅุฐุง ูุงูุช ุงููููุฉ ุชุญุชูู ุนูู "ุชู ุงูุฅูุฌุงุฒ" ุงุฌุนู ููููุง ุฃุฎุถุฑ
        if(status.includes("ุชู ุงูุฅูุฌุงุฒ")) statusSpan.classList.add("text-green-500", "font-bold");

        // ุฒุฑ ุงูุญุฐู (ุณูุฉ ุงูููููุงุช)
        const deleteBtn = document.createElement("button");
        deleteBtn.innerHTML = "๐๏ธ";
        deleteBtn.className = "text-red-400 hover:scale-125 transition transform p-1";
        deleteBtn.onclick = (e) => {
            e.stopPropagation(); // ููุน ุชุฏุงุฎู ุงูุถุบุทุงุช (ูุง ุชูุชุญ ุงูุชุนุฏูู ุนูุฏ ุงูุญุฐู)
            deleteOneIdea(index);
        };

        c3.appendChild(statusSpan); // ุฅุถุงูุฉ ุงูุญุงูุฉ ููุฎููุฉ
        c3.appendChild(deleteBtn); // ุฅุถุงูุฉ ุฒุฑ ุงูุญุฐู ููุฎููุฉ
        
        // ุนูุฏ ุงูุถุบุท ุนูู ุงูุญุงูุฉุ ูุงุฏู ุฏุงูุฉ ุชุจุฏูู ุงูุญุงูุฉ
        statusSpan.onclick = (e) => {
            e.stopPropagation();
            toggleStatus(index);
        };
    }

    // --- 3. ุงูุชุนุฏูู (Update): ูุธููุชูุง ุชุบููุฑ ุงูุงุณู ููุท ูู ุงูุฐุงูุฑุฉ ุซู ุชุญุฏูุซ ุงูุดุงุดุฉ ---
    function editIdeaName(index) {
        const data = JSON.parse(localStorage.getItem("myStorageIdeas")); // ุฌูุจ ุงูุจูุงูุงุช
        const currentName = data[index].text; // ูุนุฑูุฉ ุงูุงุณู ุงูุญุงูู
        
        const newName = prompt("ุฃุฏุฎู ุงูุงุณู ุงูุฌุฏูุฏ ููููุฑุฉ:", currentName); // ุณุคุงู ุงููุณุชุฎุฏู
        
        if (newName !== null && newName.trim() !== "") {
            data[index].text = newName.trim(); // ุชุญุฏูุซ ุงูุงุณู ูู ุงููุตูููุฉ
            localStorage.setItem("myStorageIdeas", JSON.stringify(data)); // ุญูุธ ุงูุชุนุฏูู ูู ุงูุฎุฒุงูุฉ
            renderTable(); // ุฅุนุงุฏุฉ ุฑุณู ุงูุฌุฏูู ููุธูุฑ ุงูุงุณู ุงูุฌุฏูุฏ
        }
    }

    // --- 4. ุงูุฑุณู (Render): ูุณุญ ุงูุฌุฏูู ุงููุฏูู ูุฑุณูู ูู ุฌุฏูุฏ ุจูุงุกู ุนูู ุงูุฐุงูุฑุฉ ---
    function renderTable() {
        const tableBody = document.getElementById("ideastable");
        tableBody.innerHTML = ""; // ุชูุธูู ุงูุฌุฏูู ุชูุงูุงู
        // ุฌูุจ ุงูุจูุงูุงุช ูู ุงูุฎุฒุงูุฉุ ูุฅุฐุง ูุงูุช ูุงุฑุบุฉ ูุณุชุฎุฏู ูุตูููุฉ ูุงุฑุบุฉ []
        const data = JSON.parse(localStorage.getItem("myStorageIdeas")) || [];
        // ููู ููุฑุฉ ูู ุงููุงุฆูุฉุ ูุฑุฑูุง ูููุตูุน (createRow)
        data.forEach((idea, index) => {
            createRow(idea.text, idea.date, idea.status, index);
        });
        updateCounter(); // ุชุญุฏูุซ ุฑูู ุงูุนุฏุงุฏ
    }

    // --- 5. ุงูุฅุถุงูุฉ (Create): ุชุฃุฎุฐ ุงูููุงู ูู ุงููุฑุจุนุงุช ูุชุถุนู ูู ุงูุฐุงูุฑุฉ ---
    function addIdea() {
        const input = document.getElementById("ideaInput");
        const dateInput = document.getElementById("dateinput");
        
        if (!input.value || !dateInput.value) {
            alert("ูุฑุฌู ููุก ุงูุงุณู ูุงูุชุงุฑูุฎ!");
            return;
        }

        const data = JSON.parse(localStorage.getItem("myStorageIdeas")) || [];
        // ุฅุถุงูุฉ ุงูููุฑุฉ ุงูุฌุฏูุฏุฉ ูููุงูุฉ ุงููุตูููุฉ
        data.push({ text: input.value, date: dateInput.value, status: "๐ ููุฏ ุงูุชูููุฐ" });
        // ุญูุธ ุงููุงุฆูุฉ ุงููุญุฏุซุฉ ูู ุงูุฎุฒุงูุฉ
        localStorage.setItem("myStorageIdeas", JSON.stringify(data));
        
        renderTable(); // ุฅุนุงุฏุฉ ุงูุฑุณู ููุฑุงู
        input.value = ""; // ูุณุญ ุงููุฑุจุนุงุช ูุชุจุฏู ุฌุงูุฒุฉ ููุชุงุจุฉ ููุฑุฉ ุฃุฎุฑู
        dateInput.value = "";
    }

    // --- 6. ุชุจุฏูู ุงูุญุงูุฉ: ุชุบูุฑ ุจูู (ููุฏ ุงูุชูููุฐ) ู (ุชู ุงูุฅูุฌุงุฒ) ---
    function toggleStatus(index) {
        const data = JSON.parse(localStorage.getItem("myStorageIdeas"));
        // ุชุจุฏูู ุงููุต ุจูุงุกู ุนูู ุงููุต ุงูุญุงูู
        data[index].status = data[index].status.includes("ููุฏ ุงูุชูููุฐ") 
            ? "โ ุชู ุงูุฅูุฌุงุฒ" 
            : "๐ ููุฏ ุงูุชูููุฐ";
        localStorage.setItem("myStorageIdeas", JSON.stringify(data));
        renderTable(); // ุฅุนุงุฏุฉ ุงูุฑุณู ูุชุญุฏูุซ ุงูุฃููุงู
    }

    // --- 7. ุงูุญุฐู (Delete): ุชูุณุญ ููุฑุฉ ูุงุญุฏุฉ ูู ุงููุงุฆูุฉ ุจูุงุกู ุนูู ุชุฑุชูุจูุง ---
    function deleteOneIdea(index) {
        if (confirm("ูู ุชุฑูุฏ ุญุฐู ูุฐู ุงูููุฑุฉ ููุงุฆูุงูุ")) {
            const data = JSON.parse(localStorage.getItem("myStorageIdeas"));
            data.splice(index, 1); // ูุณุญ ุนูุตุฑ ูุงุญุฏ ูู ุงููุตูููุฉ
            localStorage.setItem("myStorageIdeas", JSON.stringify(data));
            renderTable(); // ุฅุนุงุฏุฉ ุฑุณู ุงูุฌุฏูู
        }
    }

    // --- 8. ุงูุจุญุซ: ููุชุฑุฉ ุงูุตููู ุจูุงุกู ุนูู ูุง ููุชุจู ุงููุณุชุฎุฏู ูู ูุฑุจุน ุงูุจุญุซ ---
    function searchIdeas() {
        const searchText = document.getElementById("searchInput").value.toLowerCase();
        const rows = document.getElementById("ideastable").getElementsByTagName("tr");
        for (let row of rows) {
            // ูุงุฑู ุงููุต ุงูููุชูุจ ูุน ุงููุต ุงูููุฌูุฏ ูู ุฃูู ุฎููุฉ (ุงุณู ุงูููุฑุฉ)
            const textMatch = row.cells[0].innerText.toLowerCase().includes(searchText);
            row.style.display = textMatch ? "" : "none"; // ุฃุธูุฑ ุงูุตู ุฃู ุงุฎูู
        }
    }

    // --- 9. ูุณุญ ุงููู ูุงููุงููุฑุง ---
    function clearAllIdeas() {
        if (confirm("ูู ุชุฑูุฏ ูุณุญ ุฌููุน ุงูุจูุงูุงุชุ")) {
            localStorage.removeItem("myStorageIdeas"); // ุชูุฑูุบ ุงูุฎุฒุงูุฉ ุชูุงูุงู
            renderTable();
        }
    }

    async function startVideo() {
        const video = document.getElementById('myVideo');
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });
            video.srcObject = stream;
            video.classList.remove('hidden');
        } catch (err) { alert("ุชุนุฐุฑ ุชุดุบูู ุงููุงููุฑุง"); }
    }

    // ุนูุฏ ุชุญููู ุงูุตูุญุฉ ูุฃูู ูุฑุฉุ ุงุฑุณู ุงูุฌุฏูู
    window.onload = renderTable;
</script>
</body>
</html>